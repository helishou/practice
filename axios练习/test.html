<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <button onclick="testGet()">Get请求</button>
      <button onclick="testPost()">POST请求</button>
      <button onclick="testPut()">PUT请求</button>
      <button onclick="testDelete()">DELETE请求</button>
    </div>
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script>
      function testGet(){
          axios.get('http://localhost:3000/posts').then(
              response=>{
                  console.log('/posts',response.data)
              }
              )
      }
      function testPost(){
          axios.post('http://localhost:3000/posts',{ "id":3,"title": "json-server3", "author": "typicode3" }).then(
              response=>{
                  console.log('/posts',response.data)
              }
              )
      }
      function testPut(){
          axios.put('http://localhost:3000/posts/3',{  "title": "json-1", "author": "111" }).then(
              response=>{
                  console.log('/posts',response.data)
              }
              )
      }
      function testDelete(){
          axios.delete('http://localhost:3000/posts/3').then(
              response=>{
                  console.log('/posts',response.data)
              }
              )
      }
      function axios({url,method='GET',params={},data={}}){
        return new Promise((resolve,reject)=>{
          //1.执行异步ajax请求

          //创建xhr对象
          const request = new XMLHttpRequest()
          //发送请求
          request.open(method,url,true)
          //2.1.如果请求成功,调用resolve
          request.send()
          //2.2如果请求失败,调用reject

        })
      }
    </script>
  </body>
</html>
